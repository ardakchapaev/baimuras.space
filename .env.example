
# =============================================================================
# BaiMuras Platform - Переменные окружения
# =============================================================================

# -----------------------------------------------------------------------------
# Основные настройки приложения
# -----------------------------------------------------------------------------
SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production-min-32-chars
FLASK_ENV=development

# -----------------------------------------------------------------------------
# База данных
# -----------------------------------------------------------------------------
# Основная база данных (PostgreSQL рекомендуется для продакшн)
DATABASE_URL=postgresql://baimuras_user:BaiMuras2025!@#@localhost:5432/baimuras_db

# Альтернативные базы данных для разных окружений
DEV_DATABASE_URL=postgresql://baimuras_user:BaiMuras2025!@#@localhost:5432/baimuras_dev
STAGING_DATABASE_URL=postgresql://baimuras_user:BaiMuras2025!@#@staging-host:5432/baimuras_staging

# Пароль для базы данных (используется в Docker)
DB_PASSWORD=BaiMuras2025!@#

# -----------------------------------------------------------------------------
# Redis (кеширование и очереди)
# -----------------------------------------------------------------------------
REDIS_URL=redis://:baimuras2025@localhost:6379/0
REDIS_PASSWORD=baimuras2025

# Celery (фоновые задачи)
CELERY_BROKER_URL=redis://:baimuras2025@localhost:6379/0
CELERY_RESULT_BACKEND=redis://:baimuras2025@localhost:6379/0

# Rate limiting
RATELIMIT_STORAGE_URL=redis://:baimuras2025@localhost:6379/1

# -----------------------------------------------------------------------------
# n8n Автоматизация
# -----------------------------------------------------------------------------
N8N_WEBHOOK_URL=http://localhost:5678/webhook/baimuras
N8N_API_URL=http://localhost:5678/api/v1
N8N_API_KEY=your-n8n-api-key-generate-in-n8n-settings
N8N_WEBHOOK_SECRET=your-webhook-secret-for-security
N8N_USER=admin@baimuras.space
N8N_PASSWORD=Admin123!
N8N_HOST=localhost
N8N_TIMEOUT=30

# -----------------------------------------------------------------------------
# Email настройки
# -----------------------------------------------------------------------------
# SMTP сервер (Gmail пример)
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password-not-regular-password
MAIL_DEFAULT_SENDER=info@baimuras.space

# Альтернативные SMTP провайдеры:
# Yandex: smtp.yandex.ru:587
# Mail.ru: smtp.mail.ru:587
# Outlook: smtp-mail.outlook.com:587

# -----------------------------------------------------------------------------
# Файловые настройки
# -----------------------------------------------------------------------------
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=16777216

# Разрешенные расширения файлов (через запятую)
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx

# -----------------------------------------------------------------------------
# Логирование
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FILE=logs/baimuras.log

# Уровни логирования: DEBUG, INFO, WARNING, ERROR, CRITICAL

# -----------------------------------------------------------------------------
# Домены и URL
# -----------------------------------------------------------------------------
DOMAIN=baimuras.space
ADMIN_DOMAIN=hub.baimuras.space
AUTOMATION_DOMAIN=automation.baimuras.space

# Для разработки используйте localhost
# DOMAIN=localhost:5000
# ADMIN_DOMAIN=localhost:5000
# AUTOMATION_DOMAIN=localhost:5678

# -----------------------------------------------------------------------------
# SSL сертификаты (только для продакшн)
# -----------------------------------------------------------------------------
SSL_CERT_PATH=/etc/nginx/ssl/baimuras.space.crt
SSL_KEY_PATH=/etc/nginx/ssl/baimuras.space.key

# Let's Encrypt пути (автоматические сертификаты)
# SSL_CERT_PATH=/etc/letsencrypt/live/baimuras.space/fullchain.pem
# SSL_KEY_PATH=/etc/letsencrypt/live/baimuras.space/privkey.pem

# -----------------------------------------------------------------------------
# Безопасность
# -----------------------------------------------------------------------------
# Время жизни JWT токенов (в секундах)
JWT_ACCESS_TOKEN_EXPIRES=3600
JWT_REFRESH_TOKEN_EXPIRES=2592000

# CSRF настройки
WTF_CSRF_TIME_LIMIT=3600
WTF_CSRF_ENABLED=true

# Session настройки
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax
PERMANENT_SESSION_LIFETIME=86400

# -----------------------------------------------------------------------------
# Интеграции с внешними сервисами
# -----------------------------------------------------------------------------
# Google Analytics
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Яндекс.Метрика
YANDEX_METRICA_ID=12345678

# Telegram Bot (для уведомлений)
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_CHAT_ID=your-chat-id

# WhatsApp Business API
WHATSAPP_API_TOKEN=your-whatsapp-api-token
WHATSAPP_PHONE_NUMBER=+77771234567

# -----------------------------------------------------------------------------
# Платежные системы
# -----------------------------------------------------------------------------
# Kaspi.kz
KASPI_MERCHANT_ID=your-kaspi-merchant-id
KASPI_SECRET_KEY=your-kaspi-secret-key

# PayBox
PAYBOX_MERCHANT_ID=your-paybox-merchant-id
PAYBOX_SECRET_KEY=your-paybox-secret-key

# -----------------------------------------------------------------------------
# Мониторинг и аналитика
# -----------------------------------------------------------------------------
# Sentry (для отслеживания ошибок)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# New Relic (для мониторинга производительности)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=BaiMuras-Platform

# -----------------------------------------------------------------------------
# Разработка и тестирование
# -----------------------------------------------------------------------------
# Режим отладки (только для разработки!)
DEBUG=false
TESTING=false

# Профилирование (только для разработки)
PROFILE=false

# Фиктивные данные для тестирования
SEED_DATABASE=false

# -----------------------------------------------------------------------------
# Docker специфичные настройки
# -----------------------------------------------------------------------------
# Используется в docker-compose.yml
POSTGRES_DB=baimuras_db
POSTGRES_USER=baimuras_user
POSTGRES_PASSWORD=BaiMuras2025!@#

# Redis настройки для Docker
REDIS_HOST=redis
REDIS_PORT=6379

# n8n настройки для Docker
N8N_HOST=n8n
N8N_PORT=5678

# -----------------------------------------------------------------------------
# Backup и восстановление
# -----------------------------------------------------------------------------
BACKUP_SCHEDULE=0 */6 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/home/baimuras/backups

# S3 для удаленного backup (опционально)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=baimuras-backups
AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# Локализация
# -----------------------------------------------------------------------------
DEFAULT_LANGUAGE=ru
SUPPORTED_LANGUAGES=ru,kk
TIMEZONE=Asia/Almaty

# -----------------------------------------------------------------------------
# Производительность
# -----------------------------------------------------------------------------
# Количество worker процессов для Gunicorn
WORKERS=4
WORKER_CONNECTIONS=1000
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100

# Timeout настройки
TIMEOUT=30
KEEPALIVE=2

# -----------------------------------------------------------------------------
# Кеширование
# -----------------------------------------------------------------------------
CACHE_TYPE=redis
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=baimuras:

# -----------------------------------------------------------------------------
# Примечания по настройке
# -----------------------------------------------------------------------------
# 1. Замените все значения "your-*" на реальные данные
# 2. Для продакшн используйте сложные пароли и ключи
# 3. Никогда не коммитьте .env файл с реальными данными
# 4. Используйте переменные окружения сервера для продакшн
# 5. Регулярно обновляйте пароли и ключи
# 6. Для генерации секретных ключей используйте:
#    python -c "import secrets; print(secrets.token_hex(32))"

# -----------------------------------------------------------------------------
# Быстрая настройка для разработки
# -----------------------------------------------------------------------------
# 1. Скопируйте этот файл как .env
# 2. Измените DATABASE_URL на вашу локальную БД
# 3. Настройте MAIL_* переменные для тестирования email
# 4. Установите FLASK_ENV=development
# 5. Запустите: python wsgi.py
