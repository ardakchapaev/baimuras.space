(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[227],{42102:function(e,s,t){Promise.resolve().then(t.bind(t,95276))},95276:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return A}});var a=t(15444),l=t(89300),n=t(12817),i=t(26584),c=t(99201),r=t(39429);let d=(0,t(42154).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var x=t(25076),o=t(48967),m=t(16629),h=t(64670),u=t(25422),j=t(20357),p=t(40563),f=t(2422),y=t(74678),N=t(99827),v=t(61335),w=t(54733),g=t(79507),k=t(70489),b=t(65522);let Z=[{id:"1",name:"Плита МДФ 18мм",description:"Влагостойкая плита МДФ для мебели",category:"Плиты",unit:"листы",unitPrice:3500,stockLevel:45,minStock:10,supplierInfo:{name:"ДревПром КГ",contact:"+996 312 123456"},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-25")},{id:"2",name:"Фурнитура Blum",description:"Петли и направляющие Blum",category:"Фурнитура",unit:"комплект",unitPrice:8500,stockLevel:3,minStock:5,supplierInfo:{name:"Мебель-Фурнитура",contact:"+996 555 987654"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-30")},{id:"3",name:"Кромка ПВХ белая",description:"Кромочная лента ПВХ 2мм",category:"Кромки",unit:"метры",unitPrice:45,stockLevel:850,minStock:100,supplierInfo:{name:"Техно-Кромка",contact:"+996 777 456789"},createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-02-01")},{id:"4",name:"Лак полиуретановый",description:"Защитный лак для древесины",category:"Химия",unit:"литры",unitPrice:1200,stockLevel:12,minStock:5,supplierInfo:{name:"ХимПром",contact:"+996 312 789012"},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-28")}],z=["Все категории","Плиты","Фурнитура","Кромки","Химия","Крепеж"];function A(){let[e,s]=(0,l.useState)(Z),[t,A]=(0,l.useState)(""),[M,C]=(0,l.useState)("Все категории"),L=e.filter(e=>{var s;let a=e.name.toLowerCase().includes(t.toLowerCase())||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase())),l="Все категории"===M||e.category===M;return a&&l}),S=e.filter(e=>e.stockLevel<=e.minStock),T=e.reduce((e,s)=>e+s.stockLevel*s.unitPrice,0),D=e.reduce((e,s)=>e+s.stockLevel,0)/e.length,R=e=>{let s=e.stockLevel/e.minStock*100;return s<=100?"low":s<=200?"medium":"high"},E=e=>{switch(e){case"low":return"text-red-600";case"medium":return"text-yellow-600";case"high":return"text-green-600";default:return"text-slate-600"}},P=e=>Math.min(e.stockLevel/(2*e.minStock)*100,100);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Управление материалами"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Склад и инвентаризация материалов"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(f.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Экспорт"]}),(0,a.jsxs)(f.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Поставка"]}),(0,a.jsxs)(f.z,{size:"sm",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 mr-2"}),"Добавить материал"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(N.Zb,{children:(0,a.jsxs)(N.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:e.length}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Видов материалов"})]})}),(0,a.jsx)(N.Zb,{children:(0,a.jsxs)(N.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:S.length}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Заканчиваются"})]})}),(0,a.jsx)(N.Zb,{children:(0,a.jsxs)(N.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,b.xG)(T)}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Стоимость склада"})]})}),(0,a.jsx)(N.Zb,{children:(0,a.jsxs)(N.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Math.round(D)}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Средний остаток"})]})})]}),S.length>0&&(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,a.jsx)(N.Zb,{className:"bg-red-50 border-red-200",children:(0,a.jsx)(N.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(d,{className:"h-5 w-5 text-red-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-red-800",children:"Требуют пополнения"}),(0,a.jsxs)("p",{className:"text-sm text-red-700",children:[S.length," материалов заканчиваются на складе"]})]}),(0,a.jsx)(f.z,{variant:"outline",size:"sm",className:"ml-auto",children:"Просмотреть"})]})})})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,a.jsx)(N.Zb,{children:(0,a.jsx)(N.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),(0,a.jsx)(y.I,{placeholder:"Поиск материалов...",value:t,onChange:e=>A(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(k.Ph,{value:M,onValueChange:C,children:[(0,a.jsx)(k.i4,{className:"w-full md:w-48",children:(0,a.jsx)(k.ki,{placeholder:"Категория"})}),(0,a.jsx)(k.Bw,{children:z.map(e=>(0,a.jsx)(k.Ql,{value:e,children:e},e))})]})]})})})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:(0,a.jsxs)(N.Zb,{children:[(0,a.jsx)(N.Ol,{children:(0,a.jsxs)(N.ll,{children:["Материалы на складе (",L.length,")"]})}),(0,a.jsx)(N.aY,{children:(0,a.jsxs)(g.iA,{children:[(0,a.jsx)(g.xD,{children:(0,a.jsxs)(g.SC,{children:[(0,a.jsx)(g.ss,{children:"Материал"}),(0,a.jsx)(g.ss,{children:"Категория"}),(0,a.jsx)(g.ss,{children:"Цена за единицу"}),(0,a.jsx)(g.ss,{children:"Остаток"}),(0,a.jsx)(g.ss,{children:"Статус склада"}),(0,a.jsx)(g.ss,{children:"Поставщик"}),(0,a.jsx)(g.ss,{children:"Действия"})]})}),(0,a.jsx)(g.RM,{children:L.map(e=>{let s=R(e),t=P(e);return(0,a.jsxs)(g.SC,{children:[(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"max-w-48",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-slate-500 truncate",children:e.description})]})}),(0,a.jsx)(g.pj,{children:(0,a.jsx)(v.C,{variant:"outline",children:e.category})}),(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium",children:(0,b.xG)(e.unitPrice)}),(0,a.jsxs)("div",{className:"text-sm text-slate-500",children:["за ",e.unit]})]})}),(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"font-medium ".concat(E(s)),children:[e.stockLevel," ",e.unit]}),(0,a.jsxs)("div",{className:"text-sm text-slate-500",children:["мин. ",e.minStock]})]})}),(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:["low"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)("span",{className:"text-red-600 font-medium",children:"Мало"})]}),"medium"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)("span",{className:"text-yellow-600 font-medium",children:"Норма"})]}),"high"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-green-600 font-medium",children:"Хорошо"})]})]}),(0,a.jsx)(w.E,{value:t,className:"h-2 ".concat("low"===s?"[&>div]:bg-red-500":"medium"===s?"[&>div]:bg-yellow-500":"[&>div]:bg-green-500")})]})}),(0,a.jsx)(g.pj,{children:e.supplierInfo&&(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium",children:e.supplierInfo.name}),(0,a.jsx)("div",{className:"text-slate-500",children:e.supplierInfo.contact})]})}),(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})}),(0,a.jsx)(f.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})}),(0,a.jsx)(f.z,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})})]})})]},e.id)})})]})})]})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,a.jsxs)(N.Zb,{children:[(0,a.jsx)(N.Ol,{children:(0,a.jsx)(N.ll,{children:"Быстрые действия"})}),(0,a.jsx)(N.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(f.z,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[(0,a.jsx)(r.Z,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-sm",children:"Добавить материал"})]}),(0,a.jsxs)(f.z,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[(0,a.jsx)(c.Z,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-sm",children:"Новая поставка"})]}),(0,a.jsxs)(f.z,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[(0,a.jsx)(d,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-sm",children:"Критические остатки"})]}),(0,a.jsxs)(f.z,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[(0,a.jsx)(i.Z,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-sm",children:"Отчет по складу"})]})]})})]})})]})}},79507:function(e,s,t){"use strict";t.d(s,{RM:function(){return r},SC:function(){return d},iA:function(){return i},pj:function(){return o},ss:function(){return x},xD:function(){return c}});var a=t(15444),l=t(89300),n=t(65522);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,n.cn)("w-full caption-bottom text-sm",t),...l})})});i.displayName="Table";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("thead",{ref:s,className:(0,n.cn)("[&_tr]:border-b",t),...l})});c.displayName="TableHeader";let r=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...l})});r.displayName="TableBody",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...l})}).displayName="TableFooter";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tr",{ref:s,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...l})});d.displayName="TableRow";let x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("th",{ref:s,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...l})});x.displayName="TableHead";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("td",{ref:s,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...l})});o.displayName="TableCell",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("caption",{ref:s,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...l})}).displayName="TableCaption"},26584:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},16629:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},40563:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},48967:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},64670:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},99201:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])}},function(e){e.O(0,[162,817,258,605,121,386,156,744],function(){return e(e.s=42102)}),_N_E=e.O()}]);