(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{9703:function(e,s,t){Promise.resolve().then(t.bind(t,37748))},37748:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return D}});var a=t(15444),l=t(89300),i=t(12817),n=t(62492),r=t(42154);let c=(0,r.Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var d=t(16629),x=t(99201),o=t(66772);let m=(0,r.Z)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var h=t(39429),u=t(25076),j=t(25422),p=t(20357),f=t(83648),y=t(2422),N=t(74678),v=t(99827),w=t(61335),b=t(54733),g=t(79507),k=t(70489),Z=t(65522);let A=[{id:"1",orderNumber:"BM240001",title:'Кухонный гарнитур "Модерн"',description:"Полный кухонный гарнитур с островом",status:"in_production",totalAmount:45e4,paidAmount:225e3,discount:0,deliveryDate:new Date("2024-02-15"),installationDate:new Date("2024-02-16"),createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-25"),orderItems:[],payments:[],installations:[]},{id:"2",orderNumber:"BM240002",title:"Детская мебель Монтессори",description:"Кровать, стол, стеллажи для детской",status:"confirmed",totalAmount:18e4,paidAmount:54e3,discount:1e4,deliveryDate:new Date("2024-02-20"),createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20"),orderItems:[],payments:[],installations:[]},{id:"3",orderNumber:"BM240003",title:"Офисная мебель",description:"Столы, стулья, шкафы для офиса",status:"delivered",totalAmount:32e4,paidAmount:32e4,discount:0,deliveryDate:new Date("2024-01-20"),installationDate:new Date("2024-01-21"),createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-21"),orderItems:[],payments:[],installations:[]}];function D(){let[e,s]=(0,l.useState)(A),[t,r]=(0,l.useState)(""),[D,C]=(0,l.useState)("all"),z=e.filter(e=>{let s=e.orderNumber.toLowerCase().includes(t.toLowerCase())||e.title.toLowerCase().includes(t.toLowerCase()),a="all"===D||e.status===D;return s&&a}),M=e=>e.paidAmount/e.totalAmount*100,_=e=>{switch(e){case"pending":default:return n.Z;case"confirmed":case"delivered":case"completed":return c;case"in_production":return d.Z;case"ready":return x.Z;case"cancelled":return o.Z}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Управление заказами"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Отслеживание заказов и их статусов"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(y.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(m,{className:"h-4 w-4 mr-2"}),"Отчет"]}),(0,a.jsxs)(y.z,{size:"sm",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Новый заказ"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(v.Zb,{children:(0,a.jsxs)(v.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:e.length}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Всего заказов"})]})}),(0,a.jsx)(v.Zb,{children:(0,a.jsxs)(v.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(e=>["confirmed","in_production","ready"].includes(e.status)).length}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"В работе"})]})}),(0,a.jsx)(v.Zb,{children:(0,a.jsxs)(v.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,Z.xG)(e.reduce((e,s)=>e+s.totalAmount,0))}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Общая сумма"})]})}),(0,a.jsx)(v.Zb,{children:(0,a.jsxs)(v.aY,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(0,Z.xG)(e.reduce((e,s)=>e+s.paidAmount,0))}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Оплачено"})]})})]}),(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,a.jsx)(v.Zb,{children:(0,a.jsx)(v.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),(0,a.jsx)(N.I,{placeholder:"Поиск по номеру заказа или названию...",value:t,onChange:e=>r(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(k.Ph,{value:D,onValueChange:C,children:[(0,a.jsx)(k.i4,{className:"w-full md:w-48",children:(0,a.jsx)(k.ki,{placeholder:"Статус"})}),(0,a.jsxs)(k.Bw,{children:[(0,a.jsx)(k.Ql,{value:"all",children:"Все статусы"}),(0,a.jsx)(k.Ql,{value:"pending",children:"Ожидает"}),(0,a.jsx)(k.Ql,{value:"confirmed",children:"Подтвержден"}),(0,a.jsx)(k.Ql,{value:"in_production",children:"В производстве"}),(0,a.jsx)(k.Ql,{value:"ready",children:"Готов"}),(0,a.jsx)(k.Ql,{value:"delivered",children:"Доставлен"}),(0,a.jsx)(k.Ql,{value:"completed",children:"Завершен"}),(0,a.jsx)(k.Ql,{value:"cancelled",children:"Отменен"})]})]})]})})})}),(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,a.jsxs)(v.Zb,{children:[(0,a.jsx)(v.Ol,{children:(0,a.jsxs)(v.ll,{children:["Список заказов (",z.length,")"]})}),(0,a.jsx)(v.aY,{children:(0,a.jsxs)(g.iA,{children:[(0,a.jsx)(g.xD,{children:(0,a.jsxs)(g.SC,{children:[(0,a.jsx)(g.ss,{children:"Номер заказа"}),(0,a.jsx)(g.ss,{children:"Название"}),(0,a.jsx)(g.ss,{children:"Статус"}),(0,a.jsx)(g.ss,{children:"Сумма"}),(0,a.jsx)(g.ss,{children:"Оплата"}),(0,a.jsx)(g.ss,{children:"Доставка"}),(0,a.jsx)(g.ss,{children:"Действия"})]})}),(0,a.jsx)(g.RM,{children:z.map(e=>{let s=_(e.status),t=M(e);return(0,a.jsxs)(g.SC,{children:[(0,a.jsxs)(g.pj,{children:[(0,a.jsx)("div",{className:"font-medium",children:e.orderNumber}),(0,a.jsx)("div",{className:"text-sm text-slate-500",children:(0,Z.p6)(e.createdAt)})]}),(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"max-w-48",children:[(0,a.jsx)("div",{className:"font-medium truncate",children:e.title}),(0,a.jsx)("div",{className:"text-sm text-slate-500 truncate",children:e.description})]})}),(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(s,{className:"h-4 w-4 text-slate-400"}),(0,a.jsx)(w.C,{className:(0,Z.z2)(e.status),children:(0,Z.SL)(e.status)})]})}),(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium",children:(0,Z.xG)(e.totalAmount)}),e.discount>0&&(0,a.jsxs)("div",{className:"text-sm text-green-600",children:["Скидка: ",(0,Z.xG)(e.discount)]})]})}),(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{children:(0,Z.xG)(e.paidAmount)}),(0,a.jsxs)("span",{className:"text-slate-500",children:[t.toFixed(0),"%"]})]}),(0,a.jsx)(b.E,{value:t,className:"h-2"})]})}),(0,a.jsx)(g.pj,{children:e.deliveryDate?(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{children:(0,Z.p6)(e.deliveryDate)}),e.installationDate&&(0,a.jsxs)("div",{className:"text-slate-500",children:["Установка: ",(0,Z.p6)(e.installationDate)]})]}):(0,a.jsx)("span",{className:"text-slate-400",children:"Не назначена"})}),(0,a.jsx)(g.pj,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})}),(0,a.jsx)(y.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)(y.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(m,{className:"h-4 w-4"})})]})})]},e.id)})})]})})]})}),(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:(0,a.jsxs)(v.Zb,{children:[(0,a.jsx)(v.Ol,{children:(0,a.jsx)(v.ll,{children:"Быстрые действия"})}),(0,a.jsx)(v.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(y.z,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[(0,a.jsx)(h.Z,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-sm",children:"Новый заказ"})]}),(0,a.jsxs)(y.z,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[(0,a.jsx)(f.Z,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-sm",children:"Добавить оплату"})]}),(0,a.jsxs)(y.z,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[(0,a.jsx)(x.Z,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-sm",children:"Назначить доставку"})]}),(0,a.jsxs)(y.z,{variant:"outline",className:"h-24 flex flex-col items-center justify-center space-y-2",children:[(0,a.jsx)(m,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-sm",children:"Печать документов"})]})]})})]})})]})}},79507:function(e,s,t){"use strict";t.d(s,{RM:function(){return c},SC:function(){return d},iA:function(){return n},pj:function(){return o},ss:function(){return x},xD:function(){return r}});var a=t(15444),l=t(89300),i=t(65522);let n=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",t),...l})})});n.displayName="Table";let r=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("thead",{ref:s,className:(0,i.cn)("[&_tr]:border-b",t),...l})});r.displayName="TableHeader";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",t),...l})});c.displayName="TableBody",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...l})}).displayName="TableFooter";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tr",{ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...l})});d.displayName="TableRow";let x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("th",{ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...l})});x.displayName="TableHead";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("td",{ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...l})});o.displayName="TableCell",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("caption",{ref:s,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",t),...l})}).displayName="TableCaption"},66772:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},62492:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},83648:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},16629:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},99201:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(42154).Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])}},function(e){e.O(0,[162,817,258,605,121,386,156,744],function(){return e(e.s=9703)}),_N_E=e.O()}]);