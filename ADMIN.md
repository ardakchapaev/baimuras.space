
# Документация админ-панели - BaiMuras Platform

## Обзор

Админ-панель BaiMuras Platform предоставляет полнофункциональный интерфейс для управления всеми аспектами бизнеса: от лидов и проектов до пользователей и аналитики.

**URL админ-панели**: https://hub.baimuras.space  
**Локальный доступ**: http://localhost:5000/dashboard

## Доступ к админ-панели

### Учетные данные по умолчанию

**Продакшн:**
- Email: `admin@baimuras.space`
- Пароль: `admin123`

**Разработка:**
- Email: `admin@baimuras.space`  
- Пароль: `admin123`

### Роли пользователей

| Роль | Описание | Доступ |
|------|----------|--------|
| `admin` | Полный доступ ко всем функциям | Все разделы |
| `manager` | Управление проектами и клиентами | CRM, Проекты, Отчеты |
| `user` | Базовый доступ | Просмотр назначенных проектов |

## Структура админ-панели

### 1. Главная панель (Dashboard)

**URL**: `/dashboard`

#### Основные метрики
- **Общее количество лидов** за текущий месяц
- **Конверсия лидов в проекты** (%)
- **Активные проекты** в работе
- **Выручка за месяц** (в тенге)
- **Средний чек проекта**

#### Быстрые действия
- Создать новый лид
- Добавить проект
- Запланировать консультацию
- Отправить email рассылку

#### Последние активности
- Новые лиды за последние 24 часа
- Обновления проектов
- Предстоящие консультации
- Системные уведомления

### 2. Управление лидами

**URL**: `/dashboard/leads`

#### Список лидов
- **Фильтрация по статусу**:
  - `new` - Новые лиды
  - `contacted` - Связались
  - `qualified` - Квалифицированные
  - `converted` - Конвертированные
  - `lost` - Потерянные

- **Фильтрация по источнику**:
  - `website` - Сайт
  - `social_media` - Социальные сети
  - `referral` - Рекомендации
  - `advertising` - Реклама
  - `direct` - Прямое обращение

#### Карточка лида
```
Имя: Анна Смирнова
Email: anna@example.com
Телефон: +7 777 111 22 33
Источник: Сайт
Интерес: Дизайн кухни
Статус: Новый
Дата создания: 21.06.2025 09:00
Заметки: Интересуется современным стилем
```

#### Действия с лидами
- **Изменить статус** лида
- **Добавить заметки** и комментарии
- **Назначить ответственного** менеджера
- **Запланировать звонок** или встречу
- **Конвертировать в проект**
- **Отправить email** или SMS

### 3. Управление проектами

**URL**: `/dashboard/projects`

#### Статусы проектов
- `planning` - Планирование
- `design` - Дизайн
- `production` - Производство
- `installation` - Монтаж
- `completed` - Завершен
- `on_hold` - Приостановлен

#### Карточка проекта
```
Название: Кухня для семьи Ивановых
Клиент: Иван Иванов (+7 777 123 45 67)
Тип: Дизайн и изготовление кухни
Бюджет: 800,000 ₸
Статус: В производстве
Прогресс: 65%
Дедлайн: 15.08.2025
Ответственный: Менеджер Петров
```

#### Управление проектом
- **Обновление статуса** и прогресса
- **Загрузка файлов** (чертежи, фото)
- **Планирование задач** и этапов
- **Учет времени** и ресурсов
- **Коммуникация с клиентом**
- **Финансовый учет**

### 4. Аналитика и отчеты

**URL**: `/dashboard/analytics`

#### Дашборд аналитики
- **График конверсии** лидов по месяцам
- **Источники лидов** (круговая диаграмма)
- **Воронка продаж** по этапам
- **Выручка по проектам** (столбчатая диаграмма)
- **Производительность менеджеров**

#### Отчеты
- **Отчет по лидам** за период
- **Отчет по проектам** и их статусам
- **Финансовый отчет** по выручке
- **Отчет по конверсии** источников
- **Отчет по производительности** команды

#### Экспорт данных
- **Excel** (.xlsx) - для детального анализа
- **PDF** - для презентаций
- **CSV** - для импорта в другие системы

### 5. Управление пользователями

**URL**: `/dashboard/users`

#### Список пользователей
- **Фильтрация по роли** (admin, manager, user)
- **Поиск по имени** или email
- **Статус активности** (активен/заблокирован)

#### Создание пользователя
```
Имя: Новый Менеджер
Email: manager@baimuras.space
Роль: manager
Пароль: [автогенерация]
Отдел: Продажи
Телефон: +7 777 999 88 77
```

#### Управление правами
- **Назначение ролей** и разрешений
- **Доступ к разделам** админ-панели
- **Ограничения по данным** (только свои лиды/проекты)

### 6. Консультации и встречи

**URL**: `/dashboard/consultations`

#### Календарь консультаций
- **Месячный вид** с событиями
- **Недельный вид** с деталями
- **Дневной вид** с расписанием

#### Планирование консультации
```
Клиент: Мария Петрова
Тип: Первичная консультация
Дата: 25.06.2025
Время: 14:00 - 15:30
Место: Офис / Онлайн
Ответственный: Дизайнер Сидоров
Заметки: Обсуждение дизайна детской комнаты
```

#### Автоматические напоминания
- **Email уведомления** за 24 часа
- **SMS напоминания** за 2 часа
- **Push уведомления** в админ-панели

### 7. Настройки системы

**URL**: `/dashboard/settings`

#### Общие настройки
- **Название компании** и контакты
- **Логотип** и брендинг
- **Часовой пояс** и локализация
- **Валюта** по умолчанию

#### Email настройки
- **SMTP сервер** конфигурация
- **Шаблоны писем** для автоматизации
- **Подписи** и контактная информация

#### Интеграции
- **n8n автоматизация** - настройка webhook
- **CRM системы** - синхронизация данных
- **Платежные системы** - прием оплаты
- **Аналитика** - Google Analytics, Яндекс.Метрика

## Автоматизация через n8n

### Настройка интеграции

**URL n8n**: http://95.140.153.181:5678  
**Доступ**: admin@baimuras.space / Admin123!

#### Автоматические процессы
1. **Новый лид** → Уведомление менеджеру → Создание задачи
2. **Консультация** → Напоминание клиенту → Подготовка материалов
3. **Проект завершен** → Отправка счета → Запрос отзыва
4. **Еженедельные отчеты** → Сбор данных → Отправка руководству

#### Webhook эндпоинты
- `/webhooks/n8n` - основной webhook
- `/webhooks/lead-automation` - автоматизация лидов
- `/webhooks/consultation-reminder` - напоминания
- `/webhooks/project-status` - обновления проектов

## Мобильная версия

Админ-панель полностью адаптирована для мобильных устройств:

- **Responsive дизайн** для всех экранов
- **Touch-friendly** интерфейс
- **Быстрый доступ** к ключевым функциям
- **Offline режим** для базовых операций

## Безопасность

### Меры защиты
- **Двухфакторная аутентификация** (2FA)
- **Логирование действий** пользователей
- **Ограничение IP адресов** для доступа
- **Автоматический logout** при неактивности
- **Шифрование данных** в базе

### Аудит безопасности
- **Журнал входов** в систему
- **История изменений** данных
- **Мониторинг подозрительной активности**
- **Регулярные backup** данных

## Техническая поддержка

### Самодиагностика
**URL**: `/dashboard/system-health`

- **Статус базы данных** - подключение и производительность
- **Статус Redis** - кеширование и сессии
- **Статус n8n** - автоматизация и webhook
- **Использование ресурсов** - CPU, память, диск

### Логи системы
- **Логи приложения**: `/var/log/baimuras/app.log`
- **Логи ошибок**: `/var/log/baimuras/error.log`
- **Логи доступа**: `/var/log/nginx/baimuras_access.log`

### Резервное копирование
- **Автоматический backup** базы данных каждые 6 часов
- **Backup файлов** ежедневно в 02:00
- **Хранение backup** в течение 30 дней
- **Восстановление** из backup через админ-панель

## Часто задаваемые вопросы

### Q: Как сбросить пароль администратора?
A: Используйте команду в терминале сервера:
```bash
python -c "from src.models.user import User; User.reset_admin_password()"
```

### Q: Как добавить нового менеджера?
A: Перейдите в раздел "Пользователи" → "Создать пользователя" → Выберите роль "manager"

### Q: Как настроить автоматические уведомления?
A: В разделе "Настройки" → "Email настройки" → Включите нужные типы уведомлений

### Q: Как экспортировать данные?
A: В любом разделе нажмите кнопку "Экспорт" и выберите формат (Excel, PDF, CSV)

### Q: Как восстановить удаленный лид?
A: Удаленные лиды хранятся в корзине 30 дней. Перейдите в "Лиды" → "Корзина" → "Восстановить"

## Контакты поддержки

**Техническая поддержка**:
- Email: support@baimuras.space
- Телефон: +7 777 123 45 67
- Telegram: @baimuras_support

**Разработчик**:
- Email: admin@baimuras.space
- GitHub: https://github.com/ardakchapaev/baimuras.space

---

**Последнее обновление**: 21 июня 2025 г.  
**Версия админ-панели**: 2.0.0
